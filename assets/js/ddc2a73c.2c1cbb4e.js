(window.webpackJsonp=window.webpackJsonp||[]).push([[217],{286:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return d})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return l}));var r=t(3),o=t(7),i=(t(0),t(317)),a=["components"],d={custom_edit_url:null,title:"pair()",taxonomy:{category:["connection"],tag:["codrone-library"]},menu:"pair()"},c={unversionedId:"codrone-pro/connection/pair",id:"codrone-pro/connection/pair",isDocsHomePage:!1,title:"pair()",description:"Description",source:"@site/docs/codrone-pro/03-connection/02-pair.md",sourceDirName:"codrone-pro/03-connection",slug:"/codrone-pro/connection/pair",permalink:"/doc-v2/docs/codrone-pro/connection/pair",editUrl:null,version:"current",sidebarPosition:2,frontMatter:{custom_edit_url:null,title:"pair()",taxonomy:{category:["connection"],tag:["codrone-library"]},menu:"pair()"},sidebar:"codroneProSideBar",previous:{title:"disconnect()",permalink:"/doc-v2/docs/codrone-pro/connection/disconnect"},next:{title:"emergency_stop()",permalink:"/doc-v2/docs/codrone-pro/flight-commands-start-stop/emergency-stop"}},s=[],p={toc:s};function l(e){var n=e.components,t=Object(o.a)(e,a);return Object(i.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h5",{id:"description"},"Description"),Object(i.b)("p",null,"This function pairs the BLE board to the CoDrone.  After establishing a connection, it always waits for 3 seconds before executing the next command. Pair works a bit differently between Arduino and Python.  With the Arduino-based remote, ",Object(i.b)("inlineCode",{parentName:"p"},"pair()"),' with no parameters will pair with the last paired CoDrone. If it\'s your first time using the remote, it will just find the nearest CoDrone it can find, then "lock in" with that CoDrone and always pair with it.  With Python, ',Object(i.b)("inlineCode",{parentName:"p"},"pair()"),' with no parameters will pair with the last paired CoDrone, which is saved in a file called "PairInfo." If it\'s your first time running ',Object(i.b)("inlineCode",{parentName:"p"},"pair()"),', it will just find the nearest CoDrone it can find, then "lock in" with that CoDrone, save it to "PairInfo" and always pair with it until you run ',Object(i.b)("inlineCode",{parentName:"p"},"pair(drone.Nearest)"),"."),Object(i.b)("h5",{id:"syntax"},"Syntax"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"pair()"),Object(i.b)("br",null),"\nArduino: ",Object(i.b)("inlineCode",{parentName:"p"},"pair(Nearest)"),", Python: ",Object(i.b)("inlineCode",{parentName:"p"},"pair(drone.Nearest)"),Object(i.b)("br",null),"\nArduino: ",Object(i.b)("inlineCode",{parentName:"p"},"pair(bluetoothAddress)"),", Python: ",Object(i.b)("inlineCode",{parentName:"p"},"pair(fourDigitAddress)"),Object(i.b)("br",null)),Object(i.b)("h5",{id:"parameters"},"Parameters"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Nearest:")," If you specify ",Object(i.b)("inlineCode",{parentName:"p"},"Nearest")," in Arduino or ",Object(i.b)("inlineCode",{parentName:"p"},"drone.Nearest"),' in Python, it will pair with the first drone it finds (which may not always be the nearest CoDrone, in some cases, just the first CoDrone it finds). This function can be used to "unlock" the drone from only pairing with the CoDrone it\'s been "locked in" with. Once you\'ve paired with a nearest CoDrrone, you can run ',Object(i.b)("inlineCode",{parentName:"p"},"pair()"),' again with no parameters, and it will only pair with the "locked in" CoDrone.',Object(i.b)("br",null),"\n",Object(i.b)("strong",{parentName:"p"},"address:")," This is the address of the CoDrone. In Arduino, this is a 6-index array of bytes representing the Bluetooth address.  In Python, this is the 4-digit number that identifies the CoDrone."),Object(i.b)("h5",{id:"returns"},"Returns"),Object(i.b)("p",null,"None"),Object(i.b)("h5",{id:"example-code"},"Example Code"),Object(i.b)("h6",{id:"python"},"Python"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"#Python code\nimport CoDrone\n\ndef main():\n    drone = CoDrone.CoDrone()\n    drone.pair()\n    # drone.pair(\u201c5349\u201d)\n    # drone.pair(drone.Nearest)\n\n    # you can set specific port name for pairing especially Windows need/require this \n    # drone.pair(port_name = 'COM3')\n    # drone.pair('1234', 'COM3')\n    # drone.pair(drone.Nearest, 'COM3')\n\n    drone.takeoff()\n    drone.hover(3)\n    drone.land()\n\nif __name__ == '__main__':\n    main()\n")),Object(i.b)("h6",{id:"arduino"},"Arduino"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-c"},'//Arduino code\n#include<CoDrone.h>     //header\n\nvoid setup(){\n  //below this have to code in setup\n  CoDrone.begin(115200);\n\n  //IMPORATNT: You would only run ONE of the 3 options below\n\n  /* 1) This will pair with the last drone that the remote was paired to. If this is the first time pairing, \n   *    this function will pair with whatever first drone it finds, and "lock in" to that drone and only pair with \n   *    that drone\n   */\n  CoDrone.pair();\n\n  /* 2) This will pair with the nearest drone that the BLE board finds. You can use this function to "unlock" a \n   *    remote that\'s been "locked in" to a drone. So first run this code, then just upload and run with "CoDrone.pair()" *    to "lock in" to that drone\n   */\n  CoDrone.pair(Nearest);\n\n  /* 3) This is a more advanced pairing process that always only pair with the provided drone\'s address. The code\n   *    to print your drone\'s address is provided below.  The syntax used below is assuming you ran the code below \n   *    and got your drone\'s address, which in this example is {43, 171, 60, 234, 74, 136}\n   */\n  CoDrone.pair({43, 171, 60, 234, 74, 136});  \n}\n\nvoid loop(){\n  \n}\n\n')),Object(i.b)("h6",{id:"arduino-code-to-print-codrone-address-to-serial-monitor"},"Arduino code to print CoDrone address to Serial Monitor"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-c"},"/* 1) Once you've uploaded this code to your remote, keep the micro USB cable plugged in and go into run mode by\n *    putting all DIP switch down to OFF mode.\n * 2) Open your Serial Monitor in Arduino, then power on your CoDrone, and reset your remote to let it pair.  Once\n *    it pairs, your drone address should print out, which you can use in the code provided for using \"CoDrone.\n *    pair(address)\"\n */\n\n\n#include <CoDrone.h> // The codrone library that holds all the background files for this\n\nvoid setup() {  \n  CoDrone.begin(115200);  // sets up the connection to the drone using the bluetooth module at 115200bps (bits per second)\n  CoDrone.pair(Nearest);  // pair to the first drone found\n  CoDrone.DroneModeChange(Flight);    // Changes the drone so that it is now in flight mode\n\n  delay(1000);\n}\n\nvoid loop() {\n\n  //The following code prints your drone's 6-index byte array address to the Serial Monitor\n  delay(50);\n  \n  CoDrone.PrintDroneAddress(); \n  \n}\n")))}l.isMDXComponent=!0},317:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return b}));var r=t(0),o=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=o.a.createContext({}),p=function(e){var n=o.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},l=function(e){var n=p(e.components);return o.a.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},h=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),l=p(t),h=r,b=l["".concat(a,".").concat(h)]||l[h]||u[h]||i;return t?o.a.createElement(b,d(d({ref:n},s),{},{components:t})):o.a.createElement(b,d({ref:n},s))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=h;var d={};for(var c in n)hasOwnProperty.call(n,c)&&(d[c]=n[c]);d.originalType=e,d.mdxType="string"==typeof e?e:r,a[1]=d;for(var s=2;s<i;s++)a[s]=t[s];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,t)}h.displayName="MDXCreateElement"}}]);